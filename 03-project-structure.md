# é¡¹ç›®æ¶æ„ä¸ç›®å½•ç»“æ„

æ·±å…¥äº†è§£ Project N.E.K.O. é¡¹ç›®çš„æ•´ä½“æ¶æ„ã€æ¨¡å—ç»„ç»‡å’Œä»£ç ç»“æ„ï¼Œä¸ºåç»­å¼€å‘æ‰“ä¸‹åšå®åŸºç¡€ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è§ˆ](#é¡¹ç›®æ¦‚è§ˆ)
- [ç›®å½•ç»“æ„è¯¦è§£](#ç›®å½•ç»“æ„è¯¦è§£)
  - [æ ¸å¿ƒæœåŠ¡å™¨æ–‡ä»¶](#æ ¸å¿ƒæœåŠ¡å™¨æ–‡ä»¶)
  - [åç«¯æ ¸å¿ƒæ¨¡å—](#åç«¯æ ¸å¿ƒæ¨¡å—)
  - [å‰ç«¯æ¨¡å—](#å‰ç«¯æ¨¡å—)
  - [é…ç½®å’Œèµ„æº](#é…ç½®å’Œèµ„æº)
  - [é›†æˆå’Œéƒ¨ç½²](#é›†æˆå’Œéƒ¨ç½²)
- [æ ¸å¿ƒæ¨¡å—è¯´æ˜](#æ ¸å¿ƒæ¨¡å—è¯´æ˜)
- [æ•°æ®æµå‘](#æ•°æ®æµå‘)
- [å¼€å‘å…¥å£ç‚¹](#å¼€å‘å…¥å£ç‚¹)

---

## é¡¹ç›®æ¦‚è§ˆ

Project N.E.K.O. æ˜¯ä¸€ä¸ª AI ä¼™ä¼´é¡¹ç›®ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼š

- **åç«¯**ï¼šPython 3.11+ï¼ŒFastAPI æ¡†æ¶
- **å‰ç«¯**ï¼šReact + TypeScriptï¼ˆæ–°ï¼‰ + ä¼ ç»Ÿ HTML/JSï¼ˆæ—§ï¼‰
- **AI èƒ½åŠ›**ï¼šé›†æˆå¤šç§ LLM APIï¼Œæ”¯æŒ S2.5 å’Œ S3 æ™ºèƒ½ä½“
- **Live2D**ï¼š2D è§’è‰²å±•ç¤º
- **Steam**ï¼šSteam Workshop é›†æˆ
- **Docker**ï¼šå®¹å™¨åŒ–éƒ¨ç½²æ”¯æŒ

> ğŸ’¡ **æç¤º**ï¼šå…³äºç¯å¢ƒæ­å»ºã€é¡¹ç›®å…‹éš†å’Œä¾èµ–å®‰è£…ï¼Œè¯·å‚è€ƒ [ç¯å¢ƒæ­å»ºæŒ‡å—](./01-getting-started.md)ã€‚å…³äº Git å’Œ GitHub æ“ä½œï¼Œè¯·å‚è€ƒ [Git ä¸ GitHub å®Œæ•´æŒ‡å—](./02-git-github-guide.md)ã€‚

---

## ç›®å½•ç»“æ„è¯¦è§£

### æ ¸å¿ƒæœåŠ¡å™¨æ–‡ä»¶

```
N.E.K.O/
â”œâ”€â”€ launcher.py                  # ğŸš€ å¯åŠ¨å™¨ï¼ˆç»Ÿä¸€å¯åŠ¨å…¥å£ï¼‰
â”œâ”€â”€ main_server.py               # ğŸŒ ä¸»æœåŠ¡å™¨ï¼ˆFastAPIï¼‰
â”œâ”€â”€ memory_server.py             # ğŸ§  è®°å¿†æœåŠ¡å™¨
â”œâ”€â”€ monitor.py                   # ğŸ“Š ç›‘æ§æœåŠ¡
â”œâ”€â”€ pyproject.toml               # Python é¡¹ç›®é…ç½®
â”œâ”€â”€ requirements.txt             # Python ä¾èµ–
â”œâ”€â”€ requirements_monitor.txt     # ç›‘æ§æœåŠ¡ä¾èµ–
â”œâ”€â”€ uv.lock                      # UV é”æ–‡ä»¶
â””â”€â”€ README.MD                    # é¡¹ç›®è¯´æ˜
```

### åç«¯æ ¸å¿ƒæ¨¡å—

#### AI æ™ºèƒ½ä½“æ¨¡å— (`brain/`)

```
brain/
â”œâ”€â”€ analyzer.py                  # å¯¹è¯åˆ†æå™¨
â”œâ”€â”€ planner.py                  # ä»»åŠ¡è§„åˆ’å™¨
â”œâ”€â”€ processor.py                # ä»»åŠ¡å¤„ç†å™¨
â”œâ”€â”€ computer_use.py             # è®¡ç®—æœºæ“ä½œï¼ˆé”®é¼ æ§åˆ¶ï¼‰
â”œâ”€â”€ mcp_client.py               # MCP åè®®å®¢æˆ·ç«¯
â”œâ”€â”€ deduper.py                  # å»é‡å¤„ç†
â”œâ”€â”€ task_executor.py            # ä»»åŠ¡æ‰§è¡Œå™¨
â”œâ”€â”€ s2_5/                       # S2.5 ç‰ˆæœ¬æ™ºèƒ½ä½“
â”‚   â”œâ”€â”€ agents/                 # æ™ºèƒ½ä½“å®ç°
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒå¼•æ“
â”‚   â”œâ”€â”€ memory/                 # ç¨‹åºè®°å¿†
â”‚   â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°
â””â”€â”€ s3/                         # S3 ç‰ˆæœ¬æ™ºèƒ½ä½“
    â”œâ”€â”€ agents/                 # æ™ºèƒ½ä½“å®ç°
    â”œâ”€â”€ bbon/                   # è¡Œä¸ºå™è¿°å™¨
    â”œâ”€â”€ core/                   # æ ¸å¿ƒå¼•æ“
    â”œâ”€â”€ memory/                 # ç¨‹åºè®°å¿†
    â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°
```

#### æ ¸å¿ƒå¯¹è¯æ¨¡å— (`main_helper/`)

```
main_helper/
â”œâ”€â”€ core.py                     # æ ¸å¿ƒå¯¹è¯é€»è¾‘
â”œâ”€â”€ cross_server.py             # è·¨æœåŠ¡å™¨é€šä¿¡
â”œâ”€â”€ omni_realtime_client.py     # å®æ—¶ API å®¢æˆ·ç«¯
â”œâ”€â”€ omni_offline_client.py      # æ–‡æœ¬ API å®¢æˆ·ç«¯
â””â”€â”€ tts_helper.py               # ğŸ”Š TTS å¼•æ“é€‚é…å™¨
```

#### è®°å¿†ç®¡ç†æ¨¡å— (`memory/`)

```
memory/
â”œâ”€â”€ store/                      # è®°å¿†æ•°æ®å­˜å‚¨
â”œâ”€â”€ recent.py                   # è¿‘æœŸè®°å¿†
â”œâ”€â”€ router.py                   # è®°å¿†è·¯ç”±
â”œâ”€â”€ semantic.py                 # è¯­ä¹‰æœç´¢
â”œâ”€â”€ settings.py                 # è®°å¿†è®¾ç½®
â””â”€â”€ timeindex.py                # æ—¶é—´ç´¢å¼•
```

#### å·¥å…·æ¨¡å— (`utils/`)

```
utils/
â”œâ”€â”€ api_config_loader.py        # API é…ç½®åŠ è½½å™¨
â”œâ”€â”€ audio.py                    # éŸ³é¢‘å¤„ç†
â”œâ”€â”€ config_manager.py           # é…ç½®ç®¡ç†å™¨
â”œâ”€â”€ frontend_utils.py           # å‰ç«¯å·¥å…·
â”œâ”€â”€ logger_config.py            # æ—¥å¿—é…ç½®
â”œâ”€â”€ preferences.py              # åå¥½è®¾ç½®
â”œâ”€â”€ web_scraper.py              # ç½‘é¡µçˆ¬è™«
â””â”€â”€ workshop_utils.py           # å·¥åŠå·¥å…·
```

### å‰ç«¯æ¨¡å—

#### React å‰ç«¯ (`frontend/`)

```
frontend/
â”œâ”€â”€ packages/                   # å‰ç«¯åŒ…
â”‚   â”œâ”€â”€ common/                 # å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ components/             # React ç»„ä»¶åº“
â”‚   â”œâ”€â”€ request/                # è¯·æ±‚å®¢æˆ·ç«¯ï¼ˆå«æµ‹è¯•ï¼‰
â”‚   â”‚   â”œâ”€â”€ __tests__/          # å•å…ƒæµ‹è¯•
â”‚   â”‚   â””â”€â”€ coverage/           # æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
â”‚   â””â”€â”€ web-bridge/             # æ¡¥æ¥å±‚ï¼ˆæš´éœ²ç»„ä»¶åˆ° windowï¼‰
â”œâ”€â”€ src/                        # æºç 
â”‚   â””â”€â”€ web/                    # Web åº”ç”¨å…¥å£
â”œâ”€â”€ scripts/                    # æ„å»ºè„šæœ¬
â”œâ”€â”€ vendor/                     # ç¬¬ä¸‰æ–¹åº“
â”œâ”€â”€ index.html                  # HTML å…¥å£
â”œâ”€â”€ package.json                # å‰ç«¯ä¾èµ–
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â””â”€â”€ vite.web.config.ts          # Vite é…ç½®
```

#### é™æ€èµ„æº (`static/`)

```
static/
â”œâ”€â”€ icons/                      # å›¾æ ‡èµ„æº
â”œâ”€â”€ libs/                       # ç¬¬ä¸‰æ–¹åº“
â”‚   â”œâ”€â”€ live2d.min.js           # Live2D åº“
â”‚   â”œâ”€â”€ pixi.min.js             # PixiJS åº“
â”‚   â””â”€â”€ i18next.min.js          # å›½é™…åŒ–åº“
â”œâ”€â”€ locales/                    # å›½é™…åŒ–èµ„æº
â”œâ”€â”€ mao_pro/                    # Live2D æ¨¡å‹
â”œâ”€â”€ *.js                        # JavaScript æ–‡ä»¶
â””â”€â”€ *.png                       # å›¾ç‰‡èµ„æº
```

#### HTML æ¨¡æ¿ (`templates/`)

```
templates/
â”œâ”€â”€ index.html                  # ä¸»é¡µé¢
â”œâ”€â”€ api_key_settings.html       # API å¯†é’¥è®¾ç½®
â”œâ”€â”€ chara_manager.html          # è§’è‰²ç®¡ç†
â”œâ”€â”€ l2d_manager.html            # Live2D ç®¡ç†
â”œâ”€â”€ live2d_emotion_manager.html # è¡¨æƒ…ç®¡ç†
â”œâ”€â”€ live2d_parameter_editor.html # å‚æ•°ç¼–è¾‘å™¨
â”œâ”€â”€ memory_browser.html          # è®°å¿†æµè§ˆå™¨
â”œâ”€â”€ steam_workshop_manager.html  # Steam å·¥åŠç®¡ç†
â”œâ”€â”€ subtitle.html               # å­—å¹•é¡µé¢
â”œâ”€â”€ viewer.html                 # æŸ¥çœ‹å™¨
â””â”€â”€ voice_clone.html            # è¯­éŸ³å…‹éš†
```

### é…ç½®å’Œèµ„æº

#### é…ç½®ç®¡ç† (`config/`)

```
config/
â”œâ”€â”€ api_providers.json          # API æœåŠ¡å•†é…ç½®
â”œâ”€â”€ prompts_chara.py            # è§’è‰²æç¤ºè¯
â””â”€â”€ prompts_sys.py              # ç³»ç»Ÿæç¤ºè¯
```

#### èµ„æºæ–‡ä»¶ (`assets/`)

```
assets/
â”œâ”€â”€ demo.mp4                    # æ¼”ç¤ºè§†é¢‘
â”œâ”€â”€ framework.drawio.svg        # æ¶æ„å›¾
â”œâ”€â”€ icon.ico                    # å›¾æ ‡
â””â”€â”€ neko_logo.jpg               # é¡¹ç›® Logo
```

#### æ–‡æ¡£ (`docs/`)

```
docs/
â”œâ”€â”€ README_en.md                # è‹±æ–‡æ–‡æ¡£
â””â”€â”€ README_ja.md                # æ—¥æ–‡æ–‡æ¡£
```

### é›†æˆå’Œéƒ¨ç½²

#### Steam é›†æˆ (`steamworks/`)

```
steamworks/
â”œâ”€â”€ interfaces/                 # Steam API æ¥å£
â”‚   â”œâ”€â”€ apps.py                # åº”ç”¨æ¥å£
â”‚   â”œâ”€â”€ friends.py             # å¥½å‹æ¥å£
â”‚   â”œâ”€â”€ workshop.py             # åˆ›æ„å·¥åŠæ¥å£
â”‚   â””â”€â”€ ...                     # å…¶ä»–æ¥å£
â”œâ”€â”€ enums.py                    # æšä¸¾å®šä¹‰
â”œâ”€â”€ exceptions.py               # å¼‚å¸¸å®šä¹‰
â”œâ”€â”€ methods.py                  # æ–¹æ³•å®šä¹‰
â””â”€â”€ structs.py                  # ç»“æ„ä½“å®šä¹‰
```

#### Docker éƒ¨ç½² (`docker/`)

```
docker/
â”œâ”€â”€ Dockerfile                  # Docker é•œåƒæ„å»º
â”œâ”€â”€ docker-compose.yml          # Docker Compose é…ç½®
â”œâ”€â”€ entrypoint.sh               # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ env.template                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ config/                     # Docker é…ç½®
â”‚   â””â”€â”€ core_config.json.example
â””â”€â”€ README_Docker.md            # Docker æ–‡æ¡£
```

#### æ‰“åŒ…é…ç½® (`specs/`)

```
specs/
â”œâ”€â”€ launcher.spec               # å¯åŠ¨å™¨æ‰“åŒ…é…ç½®
â””â”€â”€ monitor_build.spec          # ç›‘æ§å™¨æ‰“åŒ…é…ç½®
```

---

## æ ¸å¿ƒæ¨¡å—è¯´æ˜

### 1. æœåŠ¡å™¨æ¨¡å—

#### `main_server.py` - ä¸»æœåŠ¡å™¨

- **ä½œç”¨**ï¼šæä¾› Web ç•Œé¢å’Œ API æ¥å£
- **æ¡†æ¶**ï¼šFastAPI
- **ç«¯å£**ï¼šé»˜è®¤ 48911ï¼ˆè¯¦è§ [ç¯å¢ƒæ­å»ºæŒ‡å— - å¯åŠ¨æœåŠ¡å™¨](./01-getting-started.md#6-å¯åŠ¨æœåŠ¡å™¨)ï¼‰
- **åŠŸèƒ½**ï¼š
  - æä¾›å‰ç«¯é¡µé¢
  - å¤„ç† API è¯·æ±‚
  - ç®¡ç†è§’è‰²é…ç½®
  - å¤„ç†æ–‡ä»¶ä¸Šä¼ 
  - Steam Workshop é›†æˆ

#### `memory_server.py` - è®°å¿†æœåŠ¡å™¨

- **ä½œç”¨**ï¼šç®¡ç† AI çš„è®°å¿†å­˜å‚¨å’Œæ£€ç´¢
- **ç«¯å£**ï¼šé»˜è®¤ 48912ï¼ˆè¯¦è§ [ç¯å¢ƒæ­å»ºæŒ‡å— - å¯åŠ¨æœåŠ¡å™¨](./01-getting-started.md#6-å¯åŠ¨æœåŠ¡å™¨)ï¼‰
- **åŠŸèƒ½**ï¼š
  - å­˜å‚¨å¯¹è¯è®°å¿†
  - ç”Ÿæˆè®°å¿†æ‘˜è¦
  - è¯­ä¹‰æœç´¢è®°å¿†
  - æ—¶é—´ç´¢å¼•ç®¡ç†

#### `launcher.py` - å¯åŠ¨å™¨

- **ä½œç”¨**ï¼šç»Ÿä¸€å¯åŠ¨å…¥å£
- **åŠŸèƒ½**ï¼š
  - å¯åŠ¨ä¸»æœåŠ¡å™¨
  - å¯åŠ¨è®°å¿†æœåŠ¡å™¨
  - ç®¡ç†æœåŠ¡ç”Ÿå‘½å‘¨æœŸ

> ğŸ’¡ **æç¤º**ï¼šå…³äºå¦‚ä½•å¯åŠ¨æœåŠ¡å™¨ï¼Œè¯·å‚è€ƒ [ç¯å¢ƒæ­å»ºæŒ‡å— - å¯åŠ¨æœåŠ¡å™¨](./01-getting-started.md#6-å¯åŠ¨æœåŠ¡å™¨)ã€‚

#### `monitor.py` - ç›‘æ§æœåŠ¡

- **ä½œç”¨**ï¼šç³»ç»Ÿç›‘æ§å’Œå¥åº·æ£€æŸ¥
- **åŠŸèƒ½**ï¼š
  - ç›‘æ§æœåŠ¡çŠ¶æ€
  - æ€§èƒ½æŒ‡æ ‡æ”¶é›†

### 2. Brain æ¨¡å—ï¼ˆAI æ™ºèƒ½ä½“ï¼‰

ä½äº `brain/` ç›®å½•ï¼Œè´Ÿè´£ AI çš„"æ€è€ƒ"è¿‡ç¨‹ï¼š

- **analyzer.py**ï¼šåˆ†æç”¨æˆ·æ„å›¾
- **planner.py**ï¼šè§„åˆ’ä»»åŠ¡æ­¥éª¤
- **processor.py**ï¼šæ‰§è¡Œä»»åŠ¡
- **computer_use.py**ï¼šæ§åˆ¶è®¡ç®—æœºï¼ˆé”®é¼ æ“ä½œï¼‰
- **mcp_client.py**ï¼šMCP åè®®é€šä¿¡
- **deduper.py**ï¼šå»é‡å¤„ç†
- **task_executor.py**ï¼šä»»åŠ¡æ‰§è¡Œå™¨
- **s2_5/**ï¼šS2.5 ç‰ˆæœ¬æ™ºèƒ½ä½“å®ç°
  - æ”¯æŒåŸºç¡€æ™ºèƒ½ä½“åŠŸèƒ½
  - ç¨‹åºè®°å¿†ç®¡ç†
- **s3/**ï¼šS3 ç‰ˆæœ¬æ™ºèƒ½ä½“å®ç°
  - å¢å¼ºçš„æ™ºèƒ½ä½“èƒ½åŠ›
  - è¡Œä¸ºå™è¿°å™¨ï¼ˆBBONï¼‰
  - ä»£ç æ™ºèƒ½ä½“æ”¯æŒ

### 3. Main Helper æ¨¡å—ï¼ˆæ ¸å¿ƒå¯¹è¯ï¼‰

ä½äº `main_helper/` ç›®å½•ï¼Œå¤„ç†å¯¹è¯æ ¸å¿ƒé€»è¾‘ï¼š

- **core.py**ï¼šå¯¹è¯æ ¸å¿ƒæµç¨‹
- **omni_realtime_client.py**ï¼šå®æ—¶æµå¼å¯¹è¯
- **omni_offline_client.py**ï¼šéå®æ—¶å¯¹è¯
- **tts_helper.py**ï¼šæ–‡æœ¬è½¬è¯­éŸ³

### 4. Memory æ¨¡å—ï¼ˆè®°å¿†ç®¡ç†ï¼‰

ä½äº `memory/` ç›®å½•ï¼Œç®¡ç† AI çš„è®°å¿†ï¼š

- **recent.py**ï¼šè¿‘æœŸè®°å¿†ç®¡ç†
- **router.py**ï¼šè®°å¿†è·¯ç”±å’Œåˆ†å‘
- **semantic.py**ï¼šè¯­ä¹‰æœç´¢å’Œæ£€ç´¢
- **settings.py**ï¼šè®°å¿†ç³»ç»Ÿé…ç½®
- **timeindex.py**ï¼šæ—¶é—´ç´¢å¼•ç®¡ç†
- **store/**ï¼šè®°å¿†æ•°æ®å­˜å‚¨ç›®å½•

### 5. Config æ¨¡å—ï¼ˆé…ç½®ç®¡ç†ï¼‰

ä½äº `config/` ç›®å½•ï¼š

- **api_providers.json**ï¼šAPI æœåŠ¡å•†é…ç½®
- **prompts_chara.py**ï¼šè§’è‰²äººè®¾æç¤ºè¯
- **prompts_sys.py**ï¼šç³»ç»Ÿæç¤ºè¯

> **æ³¨æ„**ï¼šæ ¸å¿ƒé…ç½®ï¼ˆAPI Key ç­‰ï¼‰é€šè¿‡ç¯å¢ƒå˜é‡æˆ– Docker é…ç½®ç®¡ç†ï¼Œä¸å†ä½¿ç”¨ `core_config.json` æ–‡ä»¶ã€‚

### 6. Frontend æ¨¡å—ï¼ˆå‰ç«¯ï¼‰

ä½äº `frontend/` ç›®å½•ï¼ŒåŸºäº TypeScript + React çš„å‰ç«¯æ¶æ„ï¼š

- **packages/**ï¼šæ¨¡å—åŒ–åŒ…ç»“æ„
  - **common/**ï¼šå…¬å…±æ¨¡å—ï¼ˆç±»å‹å®šä¹‰ã€å·¥å…·å‡½æ•°ï¼‰
  - **components/**ï¼šReact ç»„ä»¶åº“ï¼ˆButtonã€StatusToastã€Modal ç­‰ï¼‰
  - **request/**ï¼šè¯·æ±‚å®¢æˆ·ç«¯ï¼ˆæ”¯æŒ Web å’Œ Nativeï¼Œå«å•å…ƒæµ‹è¯•ï¼‰
  - **web-bridge/**ï¼šæ¡¥æ¥å±‚ï¼ˆå°†ç»„ä»¶å’Œè¯·æ±‚èƒ½åŠ›æš´éœ²åˆ° windowï¼‰
- **src/web/**ï¼šWeb åº”ç”¨å…¥å£
- **scripts/**ï¼šæ„å»ºå’Œæ‰“åŒ…è„šæœ¬
- **vendor/**ï¼šç¬¬ä¸‰æ–¹åº“ï¼ˆReact ç­‰ï¼‰
- æ”¯æŒç»„ä»¶ç‹¬ç«‹æ‰“åŒ…å’Œ UMD æ ¼å¼
- ä½¿ç”¨ Vitest è¿›è¡Œå•å…ƒæµ‹è¯•

### 7. Utils æ¨¡å—ï¼ˆå·¥å…·å‡½æ•°ï¼‰

ä½äº `utils/` ç›®å½•ï¼Œæä¾›å„ç§å·¥å…·å‡½æ•°ï¼š

- **api_config_loader.py**ï¼šAPI é…ç½®åŠ è½½
- **audio.py**ï¼šéŸ³é¢‘å¤„ç†
- **config_manager.py**ï¼šé…ç½®ç®¡ç†
- **frontend_utils.py**ï¼šå‰ç«¯å·¥å…·å‡½æ•°
- **logger_config.py**ï¼šæ—¥å¿—é…ç½®
- **preferences.py**ï¼šç”¨æˆ·åå¥½è®¾ç½®
- **web_scraper.py**ï¼šç½‘é¡µçˆ¬è™«
- **workshop_utils.py**ï¼šSteam Workshop å·¥å…·

### 8. Steamworks æ¨¡å—ï¼ˆSteam é›†æˆï¼‰

ä½äº `steamworks/` ç›®å½•ï¼Œæä¾› Steam API é›†æˆï¼š

- **interfaces/**ï¼šSteam API æ¥å£å°è£…
  - **apps.py**ï¼šåº”ç”¨æ¥å£
  - **friends.py**ï¼šå¥½å‹æ¥å£
  - **workshop.py**ï¼šåˆ›æ„å·¥åŠæ¥å£
  - ç­‰ç­‰
- **enums.py**ï¼šSteam æšä¸¾å®šä¹‰
- **methods.py**ï¼šSteam æ–¹æ³•å®šä¹‰
- **structs.py**ï¼šSteam ç»“æ„ä½“å®šä¹‰

### 9. Docker æ¨¡å—ï¼ˆå®¹å™¨åŒ–éƒ¨ç½²ï¼‰

ä½äº `docker/` ç›®å½•ï¼Œæä¾›å®¹å™¨åŒ–éƒ¨ç½²æ”¯æŒï¼š

- **Dockerfile**ï¼šDocker é•œåƒæ„å»ºæ–‡ä»¶
- **docker-compose.yml**ï¼šDocker Compose é…ç½®
- **entrypoint.sh**ï¼šå®¹å™¨å¯åŠ¨è„šæœ¬
- **env.template**ï¼šç¯å¢ƒå˜é‡æ¨¡æ¿
- **config/**ï¼šDocker é…ç½®ç›®å½•

---

## æ•°æ®æµå‘

### åŸºæœ¬å¯¹è¯æµç¨‹

```
ç”¨æˆ·è¾“å…¥
  â†“
å‰ç«¯ (React/TypeScript æˆ– HTML/JS)
  â†“
main_server.py (FastAPI)
  â†“
main_helper/core.py
  â†“
API å®¢æˆ·ç«¯ (omni_realtime_client.py / omni_offline_client.py)
  â†“
LLM API (å¤–éƒ¨æœåŠ¡)
  â†“
è¿”å›å“åº”
  â†“
memory_server.py (å­˜å‚¨è®°å¿†)
  â†“
å‰ç«¯æ˜¾ç¤º
```

### æ™ºèƒ½ä½“ä»»åŠ¡æµç¨‹

```
ç”¨æˆ·è¯·æ±‚å¤æ‚ä»»åŠ¡
  â†“
main_server.py (FastAPI)
  â†“
brain/task_executor.py
  â†“
brain/analyzer.py (åˆ†ææ„å›¾)
  â†“
brain/planner.py (è§„åˆ’æ­¥éª¤)
  â†“
brain/processor.py (æ‰§è¡Œä»»åŠ¡)
  â†“
brain/computer_use.py (å¦‚éœ€è¦ï¼Œæ§åˆ¶è®¡ç®—æœº)
  â†“
brain/s2_5/ æˆ– brain/s3/ (æ™ºèƒ½ä½“å®ç°)
  â†“
è¿”å›ç»“æœ
```

---

## å¼€å‘å…¥å£ç‚¹

### åç«¯å¼€å‘

1. **ä¸»æœåŠ¡å™¨**ï¼š`main_server.py`
   - æ·»åŠ æ–°çš„ API ç«¯ç‚¹
   - ä¿®æ”¹è·¯ç”±å¤„ç†

2. **å¯¹è¯é€»è¾‘**ï¼š`main_helper/core.py`
   - ä¿®æ”¹å¯¹è¯æµç¨‹
   - æ·»åŠ æ–°çš„å¤„ç†é€»è¾‘

3. **AI æ™ºèƒ½ä½“**ï¼š`brain/` ç›®å½•
   - æ‰©å±• AI èƒ½åŠ›
   - æ·»åŠ æ–°çš„å·¥å…·

### å‰ç«¯å¼€å‘

1. **TypeScript + React åº”ç”¨**ï¼š`frontend/`
   - æ·»åŠ æ–°ç»„ä»¶ï¼š`frontend/packages/components/src/`
   - æ·»åŠ å…¬å…±æ¨¡å—ï¼š`frontend/packages/common/`
   - ä¿®æ”¹è¯·æ±‚å®¢æˆ·ç«¯ï¼š`frontend/packages/request/`
   - ä¿®æ”¹æ¡¥æ¥å±‚ï¼š`frontend/packages/web-bridge/`
   - ä¿®æ”¹ Web åº”ç”¨ï¼š`frontend/src/web/`
   - è¿è¡Œæµ‹è¯•ï¼š`cd frontend/packages/request && npm test`

2. **ä¼ ç»Ÿå‰ç«¯**ï¼š`static/` å’Œ `templates/`
   - ä¿®æ”¹ HTMLï¼š`templates/`
   - ä¿®æ”¹ JSï¼š`static/*.js`
   - Live2D ç›¸å…³ï¼š`static/live2d-*.js`

---

## é…ç½®æ–‡ä»¶è¯´æ˜

### `config/api_providers.json`

å®šä¹‰å¯ç”¨çš„ API æœåŠ¡å•†ï¼š

```json
{
  "core": {
    "stepfun": { ... },
    "qwen": { ... }
  }
}
```

### `config/prompts_chara.py`

è§’è‰²äººè®¾æç¤ºè¯ï¼Œå®šä¹‰ AI çš„æ€§æ ¼å’Œè¡Œä¸ºã€‚

### `config/prompts_sys.py`

ç³»ç»Ÿæç¤ºè¯ï¼Œå®šä¹‰ AI çš„ç³»ç»Ÿè¡Œä¸ºã€‚

### `pyproject.toml`

Python é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰é¡¹ç›®å…ƒæ•°æ®å’Œä¾èµ–ï¼š

- é¡¹ç›®åç§°å’Œç‰ˆæœ¬
- Python ç‰ˆæœ¬è¦æ±‚ï¼ˆ3.11-3.12ï¼‰
- ä¾èµ–åŒ…åˆ—è¡¨
- æ‰“åŒ…é…ç½®

> ğŸ’¡ **æç¤º**ï¼šå…³äºå¦‚ä½•ä½¿ç”¨ `uv` ç®¡ç†ä¾èµ–å’Œ `pyproject.toml`ï¼Œè¯·å‚è€ƒ [ç¯å¢ƒæ­å»ºæŒ‡å— - é…ç½® Python é¡¹ç›®ç¯å¢ƒ](./01-getting-started.md#4-é…ç½®-python-é¡¹ç›®ç¯å¢ƒ)ã€‚

### Docker é…ç½®

Docker ç›¸å…³é…ç½®ä½äº `docker/` ç›®å½•ï¼š

- **docker-compose.yml**ï¼šæœåŠ¡ç¼–æ’é…ç½®
- **env.template**ï¼šç¯å¢ƒå˜é‡æ¨¡æ¿
- **config/core_config.json.example**ï¼šé…ç½®ç¤ºä¾‹æ–‡ä»¶

### æ‰“åŒ…é…ç½®

ä½äº `specs/` ç›®å½•ï¼š

- **launcher.spec**ï¼šå¯åŠ¨å™¨æ‰“åŒ…é…ç½®ï¼ˆPyInstallerï¼‰
- **monitor_build.spec**ï¼šç›‘æ§æœåŠ¡æ‰“åŒ…é…ç½®

---

## ç›¸å…³æ–‡æ¡£

åœ¨æ·±å…¥äº†è§£é¡¹ç›®ç»“æ„ä¹‹å‰ï¼Œå»ºè®®å…ˆé˜…è¯»ï¼š

- [ç¯å¢ƒæ­å»ºæŒ‡å—](./01-getting-started.md) - äº†è§£å¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒå’Œå¯åŠ¨é¡¹ç›®
- [Git ä¸ GitHub å®Œæ•´æŒ‡å—](./02-git-github-guide.md) - å­¦ä¹ å¦‚ä½•è·å–å’Œç®¡ç†ä»£ç 

## ä¸‹ä¸€æ­¥

äº†è§£é¡¹ç›®ç»“æ„åï¼Œå¯ä»¥å¼€å§‹å¼€å‘ï¼š

- [å¼€å‘å®æˆ˜å…¥é—¨](./04-development-basics.md) - å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªåŠŸèƒ½
- [å‰ç«¯å¼€å‘æ•™ç¨‹](./05-frontend-development.md) - å‰ç«¯å¼€å‘è¯¦è§£
- [åç«¯å¼€å‘æ•™ç¨‹](./06-backend-development.md) - åç«¯å¼€å‘è¯¦è§£

---

**é‡åˆ°é—®é¢˜ï¼Ÿ** åœ¨ [GitHub Issues](https://github.com/Project-N-E-K-O/nekodemy/issues) æäº¤ä½ çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šåŠæ—¶è§£ç­”ï¼

